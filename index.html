<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ct wildlife</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="icon" type="image/png" sizes="32x32" href="/photography/public/favicon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/photography/public/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/photography/public/apple-touch-icon.png">
</head>

<body>
<!-- NAV_START -->
<div class='navbar'>
  <ul class='menu'>
    <li><a href='/photography/index.html'>Home</a></li>
    <li><a href='/photography/pages/new.html'>New</a></li>
    <li class='dropdown'><a href='#'>Landscapes</a>
<ul class='dropdown-menu'>
<li><a href='/photography/pages/landscapes-camera landscapes.html'>Camera landscapes</a></li>
</ul>
    </li>
    <li class='dropdown'><a href='#'>Birds</a>
<ul class='dropdown-menu'>
<li><a href='/photography/pages/birds-grouse.html'>Grouse</a></li>
<li><a href='/photography/pages/birds-everything-else.html'>Everything else</a></li>
<li class='dropdown'><a href='#'>Songbirds</a>
<ul class='dropdown-menu'>
<li><a href='/photography/pages/birds-songbirds-sparrows.html'>Sparrows</a></li>
<li><a href='/photography/pages/birds-songbirds-icterids.html'>Icterids</a></li>
<li><a href='/photography/pages/birds-songbirds-thrushes.html'>Thrushes</a></li>
<li><a href='/photography/pages/birds-songbirds-various-songbirds.html'>Various songbirds</a></li>
<li><a href='/photography/pages/birds-songbirds-wrens.html'>Wrens</a></li>
</ul>
</li>
<li><a href='/photography/pages/birds-raptors.html'>Raptors</a></li>
<li><a href='/photography/pages/birds-shorebirds.html'>Shorebirds</a></li>
</ul>
    </li>
    <li class='dropdown'><a href='#'>Flora</a>
<ul class='dropdown-menu'>
<li><a href='/photography/pages/flora-wildflowers.html'>Wildflowers</a></li>
</ul>
    </li>
    <li class='dropdown'><a href='#'>Mammals</a>
<ul class='dropdown-menu'>
<li><a href='/photography/pages/mammals-rodents.html'>Rodents</a></li>
</ul>
    </li>
    <li class='dropdown'><a href='#'>More photos</a>
<ul class='dropdown-menu'>
<li><a href='/photography/pages/more photos-insects & spiders.html'>Insects & spiders</a></li>
<li><a href='/photography/pages/more photos-reptiles & amphibians.html'>Reptiles & amphibians</a></li>
</ul>
    </li>
    <li class='nav-right'><a href='/photography/pages/search.html'>Search</a></li>
  </ul>
</div>

<!-- NAV_END -->

  <!-- SLIDESHOW -->
  <div class="slideshow-container">
    <img
      id="slideshow"
      src=""
      alt="Recent wildlife photo"
      style="max-width:90%; max-height:70vh;"
    >
  </div>

  <!-- SLIDESHOW SCRIPT -->
  <script>
    const slideshow = document.getElementById("slideshow");
    let images = [];
    let captions = [];
    let index = 0;

    fetch("recent_photos.json")
  .then(r => r.json())
  .then(data => {
    if (!data.length) return;

    images = data.map(d => d.src);
    captions = data.map(d => d.caption);

    slideshow.src = images[0];
    slideshow.alt = captions[0];

    // --- ADD THIS FUNCTION BEFORE USING IT ---
    function italicizeLatin(text) {
      // Wraps Latin names in parentheses with <em>, leaves parentheses intact
      return text.replace(/\(([A-Z][a-z]+ [a-z]+)\)/g, '(<em>$1</em>)');
    }

    const captionEl = document.createElement("div");
    captionEl.id = "slideshow-caption";
    captionEl.style.textAlign = "center";
    captionEl.style.marginTop = "10px";
    captionEl.style.fontStyle = "normal";

    // --- CHANGE THIS LINE ---
    // Old: captionEl.innerHTML = captions[0];
    captionEl.innerHTML = italicizeLatin(captions[0]); // <-- Italicizes Latin names

    slideshow.after(captionEl);


        setInterval(() => {
          index = (index + 1) % images.length;
          slideshow.src = images[index];
          slideshow.alt = captions[index];
          // Use innerHTML + italicizer for dynamic captions
          captionEl.innerHTML = italicizeLatin(captions[index]);
        }, 5000);
      })
      .catch(err => console.error(err));
  </script>

</body>
</html>
