<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ct wildlife</title>
  <link rel="stylesheet" href="css/style.css">
</head>

<body>

  <!-- NAV (embedded directly) -->
  <div class="navbar">
    <ul class="menu">
      <!-- 1️⃣ Home -->
      <li><a href="/photography/index.html">Home</a></li>

      <!-- 2️⃣ Recent -->
      <li><a href="/photography/pages/recent.html">Recent</a></li>

      <!-- 3️⃣ Auto-generated galleries -->
      <!-- Example: replace with actual Python-generated list -->
      <li class="dropdown">
        <a href="#">Landscapes</a>
        <ul class="dropdown-menu">
          <li><a href="/photography/pages/landscapes-mountains.html">Mountains</a></li>
          <li><a href="/photography/pages/landscapes-lakes.html">Lakes</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#">Wildlife</a>
        <ul class="dropdown-menu">
          <li><a href="/photography/pages/wildlife-birds.html">Birds</a></li>
          <li><a href="/photography/pages/wildlife-mammals.html">Mammals</a></li>
        </ul>
      </li>

      <!-- 4️⃣ Search (far right) -->
      <li class="nav-right"><a href="/photography/pages/search.html">Search</a></li>
    </ul>
  </div>

  <!-- SLIDESHOW -->
  <div class="slideshow-container">
    <img
      id="slideshow"
      src=""
      alt="Recent wildlife photo"
      style="max-width:90%; max-height:70vh;"
    >
  </div>

  <!-- SLIDESHOW SCRIPT -->
  <script>
    const slideshow = document.getElementById("slideshow");
    let images = [];
    let captions = [];
    let index = 0;

    fetch("recent_photos.json")
      .then(r => r.json())
      .then(data => {
        if (!data.length) return;

        images = data.map(d => d.src);
        captions = data.map(d => d.caption);

        slideshow.src = images[0];
        slideshow.alt = captions[0];

        const captionEl = document.createElement("div");
        captionEl.id = "slideshow-caption";
        captionEl.style.textAlign = "center";
        captionEl.style.marginTop = "10px";
        captionEl.style.fontStyle = "normal";
        captionEl.innerHTML = captions[0];
        slideshow.after(captionEl);

        setInterval(() => {
          index = (index + 1) % images.length;
          slideshow.src = images[index];
          slideshow.alt = captions[index];
          captionEl.innerText = captions[index];
        }, 5000);
      })
      .catch(err => console.error(err));
  </script>

</body>
</html>
