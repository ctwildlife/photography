<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='UTF-8'>
    <title>Search</title>
    <link rel='stylesheet' href='/photography/css/style.css'>
</head>
<body>
<div class='navbar'>
<ul class='menu'>
  <li><a href='/photography/index.html'>Home</a></li>
  <li><a href='/photography/pages/recent.html'>Recent</a></li>
  <li><a href='/photography/pages/search.html'>Search</a></li>
<li><a href='/photography/pages/arthropods.html'>Arthropods</a></li>
<li class='dropdown'><a href='#'>Birds</a>
<ul class='dropdown-menu'>
<li><a href='/photography/pages/birds-grouse.html'>Grouse</a></li>
<li><a href='/photography/pages/birds-raptors.html'>Raptors</a></li>
<li><a href='/photography/pages/birds-shorebirds.html'>Shorebirds</a></li>
<li class='dropdown'><a href='#'>Songbirds</a>
<ul class='dropdown-menu'>
<li><a href='/photography/pages/birds-songbirds-icterids.html'>Icterids</a></li>
<li><a href='/photography/pages/birds-songbirds-sparrows.html'>Sparrows</a></li>
<li><a href='/photography/pages/birds-songbirds-thrushes.html'>Thrushes</a></li>
</ul>
</li>
</ul>
</li>
<li><a href='/photography/pages/landscapes.html'>Landscapes</a></li>
<li class='dropdown'><a href='#'>Mammals</a>
<ul class='dropdown-menu'>
<li><a href='/photography/pages/mammals-rodents.html'>Rodents</a></li>
</ul>
</li>
</ul>
</div>

<h1>Search photos</h1>

<div class="search-container">
  <p class="search-instructions">
    Use this to filter photos. For example, if you type in "Wyoming," you'll see all the photos taken in Wyoming.
  </p>
  <input type='text' id='searchBox' placeholder='Search photos ...'>
</div>

<div id='searchResults' class='gallery'></div>
<script>
fetch('/photography/photos_index.json')
  .then(res => res.json())
  .then(allPhotos => {
    const searchBox = document.getElementById('searchBox');
    const resultsDiv = document.getElementById('searchResults');
    searchBox.addEventListener('input', () => {
      const query = searchBox.value.toLowerCase();
      const filtered = allPhotos
        .filter(photo => photo.caption.toLowerCase().includes(query))
        .sort((a, b) => new Date(b.date) - new Date(a.date));
      resultsDiv.innerHTML = filtered.map(photo =>
        `<figure class='photo-block'>` +
        `<img src='${photo.url}' alt='${photo.caption}' class='wildlife-photo'>` +
        `<figcaption class='caption'>${photo.caption}</figcaption>` +
        `</figure>`
      ).join('');
    });
  });
</script>
</body>
</html>